{"ast":null,"code":"export function render(_ctx, _cache) {\n  return \"11\";\n}","map":{"version":3,"names":[],"sources":["/Users/jiezhou/IdeaProjects/graduationPro/web/src/views/LoginView.vue"],"sourcesContent":["<!--<template>-->\n<!--    <div class=\"login-container\">-->\n<!--      <h2>登录</h2>-->\n<!--      <form @submit.prevent=\"login\">-->\n<!--        <input type=\"text\" v-model=\"username\" placeholder=\"用户名\"/>-->\n<!--        <input type=\"password\" v-model=\"password\" placeholder=\"密码\"/>-->\n<!--        <button type=\"submit\">登录</button>-->\n<!--      </form>-->\n<!--      <p>还没有账号？-->\n<!--        <router-link to=\"/register-view\">立即注册</router-link>-->\n<!--      </p>-->\n<!--    </div>-->\n<!--  </template>-->\n<!--  -->\n<!--  <script setup>-->\n<!--  // import router from \"@/router\";-->\n<!--  import {ref} from \"vue\";-->\n<!--  import $ from \"jquery\";-->\n<!--  import {apiUrl} from \"../../config\";-->\n<!--  import router from \"@/router\";-->\n<!--  import usePeerStore from \"@/store/peer\";-->\n<!--  import initializePeerjs from \"@/plugins/initialization-peer/index\";-->\n<!--  import initializeWebSocketPlugin from \"@/plugins/initialization-web-socket/index\";-->\n<!--  -->\n<!--  const username = ref('');-->\n<!--  const password = ref('');-->\n<!--  const peerStore = usePeerStore();-->\n<!--  const error_message = ref('');-->\n<!--  -->\n<!--  const login = () => {-->\n<!--    $.ajax({-->\n<!--      url: `${apiUrl}/api/user/account/token/`,-->\n<!--      type: \"post\",-->\n<!--      data: {-->\n<!--        username: username.value,-->\n<!--        password: password.value,-->\n<!--      },-->\n<!--      success(resp) {-->\n<!--        if (resp.error_message === \"success\") {-->\n<!--          peerStore.token = resp.token;-->\n<!--          getinfo();-->\n<!--          router.push(\"/setting-view\");-->\n<!--        } else {-->\n<!--          error_message.value = resp.error_message;-->\n<!--        }-->\n<!--      },-->\n<!--    });-->\n<!--  }-->\n<!--  -->\n<!--  function getinfo() {-->\n<!--    $.ajax({-->\n<!--      url: `${apiUrl}/api/user/account/info/`,-->\n<!--      type: \"get\",-->\n<!--      headers: {-->\n<!--        Authorization: \"Bearer \" + peerStore.token,-->\n<!--      },-->\n<!--      success(resp) {-->\n<!--        if (resp.error_message === \"success\") {-->\n<!--          peerStore.username = resp.username;-->\n<!--          peerStore.is_login = true;-->\n<!--          peerStore.photo = resp.photo;-->\n<!--          peerStore.phone = resp.phone;-->\n<!--          peerStore.role = resp.role;-->\n<!--          router.push(\"/setting-view\");-->\n<!--          initializePeerjs(username.value);-->\n<!--          initializeWebSocketPlugin(username.value);-->\n<!--        } else {-->\n<!--          console.log(resp.error_message)-->\n<!--        }-->\n<!--      },-->\n<!--      error(resp) {-->\n<!--        console.log(resp)-->\n<!--      }-->\n<!--    })-->\n<!--  }-->\n<!--  -->\n<!--  // const jwt_token = localStorage.getItem(\"jwt_token\");-->\n<!--  const jwt_token = localStorage.getItem(\"jwt_token\");-->\n<!--  if (jwt_token) {-->\n<!--    peerStore.token = jwt_token;-->\n<!--    try {-->\n<!--      peerStore.getinfo({-->\n<!--        success() {-->\n<!--          router.push(\"/setting-view\");-->\n<!--          peerStore.pulling_info = false-->\n<!--        },-->\n<!--        error() {-->\n<!--          peerStore.pulling_info = false-->\n<!--        }-->\n<!--      });-->\n<!--      peerStore.pulling_info = false-->\n<!--    } catch (e) {-->\n<!--      console.log(e)-->\n<!--      peerStore.pulling_info = false-->\n<!--    }-->\n<!--  } else {-->\n<!--    peerStore.pulling_info = false-->\n<!--  }-->\n<!--  -->\n<!--  -->\n<!--  </script>-->\n<!--  -->\n<!--  -->\n<!--  &lt;!&ndash; 样式略 &ndash;&gt;-->\n<!--  -->\n<!--  <style scoped>-->\n<!--  .login-container {-->\n<!--    max-width: 400px;-->\n<!--    margin: 0 auto;-->\n<!--    padding: 20px;-->\n<!--    border: 1px solid #ccc;-->\n<!--    border-radius: 4px;-->\n<!--  }-->\n<!--  -->\n<!--  .login-container h2 {-->\n<!--    text-align: center;-->\n<!--  }-->\n<!--  -->\n<!--  .login-container form {-->\n<!--    display: flex;-->\n<!--    flex-direction: column;-->\n<!--    gap: 10px;-->\n<!--    margin-top: 20px;-->\n<!--  }-->\n<!--  -->\n<!--  .login-container input[type=\"text\"],-->\n<!--  .login-container input[type=\"password\"] {-->\n<!--    padding: 8px;-->\n<!--    border: 1px solid #ccc;-->\n<!--    border-radius: 4px;-->\n<!--  }-->\n<!--  -->\n<!--  .login-container button {-->\n<!--    padding: 8px;-->\n<!--    background-color: #007bff;-->\n<!--    color: #fff;-->\n<!--    border: none;-->\n<!--    border-radius: 4px;-->\n<!--    cursor: pointer;-->\n<!--  }-->\n<!--  </style>-->\n\n<template>11</template>"],"mappings":";SA8IA,IAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}