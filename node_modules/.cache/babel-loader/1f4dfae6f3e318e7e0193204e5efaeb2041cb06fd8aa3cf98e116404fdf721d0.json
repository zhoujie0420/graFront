{"ast":null,"code":"import { ref } from \"vue\";\nimport router from \"@/router\";\nimport { apiUrl } from \"../../config\";\nimport $ from \"jquery\";\nexport default {\n  setup() {\n    const username = ref('');\n    const password = ref('');\n    let error_message = ref('');\n    const register = () => {\n      $.ajax({\n        url: `${apiUrl}/api/user/account/register/`,\n        type: \"post\",\n        data: {\n          username: username.value,\n          password: password.value\n        },\n        success(resp) {\n          if (resp.error_message === \"success\") {\n            console.log(\"Register successful:\", resp);\n            router.push(\"/login-view\");\n          } else {\n            error_message.value = resp.error_message;\n          }\n        }\n      });\n    };\n    return {\n      username,\n      password,\n      register\n    };\n  }\n};","map":{"version":3,"names":["ref","router","apiUrl","$","setup","username","password","error_message","register","ajax","url","type","data","value","success","resp","console","log","push"],"sources":["/Users/jiezhou/IdeaProjects/graduationPro/web/src/views/RegisterView.vue"],"sourcesContent":["<template>\n  <div class=\"register-container\">\n    <h2>注册</h2>\n    <form @submit.prevent=\"register\">\n      <input type=\"text\" v-model=\"username\" placeholder=\"用户名\"/>\n      <input type=\"password\" v-model=\"password\" placeholder=\"密码\"/>\n      <div class=\"login-error-msg\">{{ error_message }}</div>\n\n      <button type=\"submit\">注册</button>\n    </form>\n    <p>已有账号？\n      <router-link to=\"/login-view\">立即登录</router-link>\n    </p>\n  </div>\n</template>\n\n<script>\nimport {ref} from \"vue\";\nimport router from \"@/router\";\nimport {apiUrl} from \"../../config\";\nimport $ from \"jquery\";\n\nexport default {\n  setup() {\n    const username = ref('');\n    const password = ref('');\n    let error_message = ref('');\n\n    const register = () => {\n      $.ajax({\n        url: `${apiUrl}/api/user/account/register/`,\n        type: \"post\",\n        data: {\n          username: username.value,\n          password: password.value,\n        },\n        success(resp) {\n          if (resp.error_message === \"success\") {\n            console.log(\"Register successful:\", resp)\n            router.push(\"/login-view\");\n          } else {\n            error_message.value = resp.error_message;\n          }\n        },\n      });\n    }\n\n\n    return {\n      username,\n      password,\n      register\n    };\n  }\n};\n</script>\n\n<!-- 样式略 -->\n<style scoped>\n.register-container {\n  max-width: 400px;\n  margin: 0 auto;\n  padding: 20px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n.register-container h2 {\n  text-align: center;\n}\n\n.register-container form {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-top: 20px;\n}\n\n.register-container input[type=\"text\"],\n.register-container input[type=\"password\"] {\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n.\n.login-error-msg {\n  position: absolute;\n  top: 40%;\n  /* left: 69%; */\n  writing-mode: tb-rl;\n  font-size: 20px;\n  color: #c3404b;\n  font-family: cursive;\n}\n\n.register-container button {\n  padding: 8px;\n  background-color: #007bff;\n  color: #fff;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n</style>"],"mappings":"AAiBA,SAAQA,GAAG,QAAO,KAAK;AACvB,OAAOC,MAAK,MAAO,UAAU;AAC7B,SAAQC,MAAM,QAAO,cAAc;AACnC,OAAOC,CAAA,MAAO,QAAQ;AAEtB,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,QAAO,GAAIL,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMM,QAAO,GAAIN,GAAG,CAAC,EAAE,CAAC;IACxB,IAAIO,aAAY,GAAIP,GAAG,CAAC,EAAE,CAAC;IAE3B,MAAMQ,QAAO,GAAIA,CAAA,KAAM;MACrBL,CAAC,CAACM,IAAI,CAAC;QACLC,GAAG,EAAG,GAAER,MAAO,6BAA4B;QAC3CS,IAAI,EAAE,MAAM;QACZC,IAAI,EAAE;UACJP,QAAQ,EAAEA,QAAQ,CAACQ,KAAK;UACxBP,QAAQ,EAAEA,QAAQ,CAACO;QACrB,CAAC;QACDC,OAAOA,CAACC,IAAI,EAAE;UACZ,IAAIA,IAAI,CAACR,aAAY,KAAM,SAAS,EAAE;YACpCS,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEF,IAAI;YACxCd,MAAM,CAACiB,IAAI,CAAC,aAAa,CAAC;UAC5B,OAAO;YACLX,aAAa,CAACM,KAAI,GAAIE,IAAI,CAACR,aAAa;UAC1C;QACF;MACF,CAAC,CAAC;IACJ;IAGA,OAAO;MACLF,QAAQ;MACRC,QAAQ;MACRE;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}