{"ast":null,"code":"import useFriendStore from \"@/store/friend\";\nimport usePeerStore from \"@/store/peer\";\nimport FriendCard from \"@/components/FriendCard.vue\";\nimport { useRouter } from \"vue-router\";\nimport { showToast } from \"vant\";\nexport default {\n  __name: 'FriendsListView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    let friendStore = useFriendStore();\n    let peerStore = usePeerStore();\n    let router = useRouter();\n    function jumpToVideoCallCallingView(calleePeerId) {\n      console.log(\"adqweqx\" + calleePeerId);\n      if (peerStore.localPeer && peerStore.localPeer.open) {\n        if (peerStore.dataConnection) {\n          showToast(\"currently busy\");\n        } else {\n          router.push({\n            path: \"/video-call-calling-view\",\n            query: {\n              calleePeerId\n            }\n          });\n        }\n      } else {\n        showToast(\"local peer not opened\");\n      }\n    }\n    const __returned__ = {\n      get friendStore() {\n        return friendStore;\n      },\n      set friendStore(v) {\n        friendStore = v;\n      },\n      get peerStore() {\n        return peerStore;\n      },\n      set peerStore(v) {\n        peerStore = v;\n      },\n      get router() {\n        return router;\n      },\n      set router(v) {\n        router = v;\n      },\n      jumpToVideoCallCallingView,\n      get useFriendStore() {\n        return useFriendStore;\n      },\n      get usePeerStore() {\n        return usePeerStore;\n      },\n      FriendCard,\n      get useRouter() {\n        return useRouter;\n      },\n      get showToast() {\n        return showToast;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["useFriendStore","usePeerStore","FriendCard","useRouter","showToast","friendStore","peerStore","router","jumpToVideoCallCallingView","calleePeerId","console","log","localPeer","open","dataConnection","push","path","query"],"sources":["/Users/jiezhou/IdeaProjects/graduationPro/web/src/views/FriendsListView.vue"],"sourcesContent":["<template>\n  <section>\n    <van-nav-bar title=\"朋友\"\n                 fixed\n                 placeholder\n                 safe-area-inset-top/>\n  </section>\n\n  <section>\n    <van-search placeholder=\"请输入搜索关键词\"/>\n  </section>\n\n  <section v-if=\"friendStore.onlineList.length\">\n    <van-divider>在线的朋友 轻触可开始视频聊天</van-divider>\n\n    <section v-for=\"peerId of friendStore.onlineList\"\n             :key=\"peerId\">\n      <friend-card v-if=\"peerId === peerStore.localPeer.id\">\n        {{ peerId }}(我)\n      </friend-card>\n      <friend-card v-else\n                   @click=\"jumpToVideoCallCallingView(peerId)\">\n        {{ peerId }}\n      </friend-card>\n      <friend-card\n                   @click=\"jumpToVideoCallCallingView(2)\">\n        {{ 2 }}\n      </friend-card>\n    </section>\n  </section>\n</template>\n\n<script setup>\nimport useFriendStore from \"@/store/friend\";\nimport usePeerStore from \"@/store/peer\";\nimport FriendCard from \"@/components/FriendCard.vue\";\nimport {useRouter} from \"vue-router\";\nimport {showToast} from \"vant\";\n\nlet friendStore = useFriendStore();\nlet peerStore = usePeerStore();\n\nlet router = useRouter();\n\nfunction jumpToVideoCallCallingView(calleePeerId) {\n  console.log(\"adqweqx\" + calleePeerId);\n  if (peerStore.localPeer && peerStore.localPeer.open) {\n    if (peerStore.dataConnection) {\n      showToast(\"currently busy\");\n    } else {\n      router.push({\n        path: \"/video-call-calling-view\",\n        query: {\n          calleePeerId\n        }\n      });\n    }\n  } else {\n    showToast(\"local peer not opened\");\n  }\n}\n</script>"],"mappings":"AAiCA,OAAOA,cAAc,MAAM,gBAAgB;AAC3C,OAAOC,YAAY,MAAM,cAAc;AACvC,OAAOC,UAAU,MAAM,6BAA6B;AACpD,SAAQC,SAAS,QAAO,YAAY;AACpC,SAAQC,SAAS,QAAO,MAAM;;;;;;;IAE9B,IAAIC,WAAW,GAAGL,cAAc,CAAC,CAAC;IAClC,IAAIM,SAAS,GAAGL,YAAY,CAAC,CAAC;IAE9B,IAAIM,MAAM,GAAGJ,SAAS,CAAC,CAAC;IAExB,SAASK,0BAA0BA,CAACC,YAAY,EAAE;MAChDC,OAAO,CAACC,GAAG,CAAC,SAAS,GAAGF,YAAY,CAAC;MACrC,IAAIH,SAAS,CAACM,SAAS,IAAIN,SAAS,CAACM,SAAS,CAACC,IAAI,EAAE;QACnD,IAAIP,SAAS,CAACQ,cAAc,EAAE;UAC5BV,SAAS,CAAC,gBAAgB,CAAC;QAC7B,CAAC,MAAM;UACLG,MAAM,CAACQ,IAAI,CAAC;YACVC,IAAI,EAAE,0BAA0B;YAChCC,KAAK,EAAE;cACLR;YACF;UACF,CAAC,CAAC;QACJ;MACF,CAAC,MAAM;QACLL,SAAS,CAAC,uBAAuB,CAAC;MACpC;IACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}